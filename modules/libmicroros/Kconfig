menuconfig MICROROS
    bool
	default n
    prompt "micro-ROS Support"
    select APP_LINK_WITH_MICROROS
    help
        Enables a micro-ROS library

if MICROROS
    config APP_LINK_WITH_MICROROS
        bool "Link 'app' with MICROROS"
        default n
        help
            Add MICROROS header files to the 'app' include path. 
   
    choice
        prompt "micro-ROS transport"
        
        config MICROROS_TRANSPORT_CANFD
            bool "micro-ROS canfd transport"
            select CAN
        
    endchoice

    if MICROROS_TRANSPORT_CANFD

        config SAMPLE_CAN_BABBLING_CAN_ID
            hex "CAN ID"
            default 0x010
            range 0x000 0x7ff if !SAMPLE_CAN_BABBLING_EXT_ID
            range 0x00000000 0x1fffffff if SAMPLE_CAN_BABBLING_EXT_ID
            help
            Babbling node CAN ID.
        
        config SAMPLE_CAN_BABBLING_EXT_ID
            bool "Use Extended (29-bit) CAN ID"
            help
            Babling node sends extended (29-bit) CAN ID frames.
        
        config SAMPLE_CAN_BABBLING_RTR
            bool "Send Remote Transmit Request (RTR) frames"
            help
            Babbling node sends Remote Transmission Request (RTR) frames.
        
        config SAMPLE_CAN_BABBLING_FD_MODE
            bool "Send CAN FD format frames"
            select CAN_FD_MODE
            help
            Babbling node sends CAN FD format frames.
        
        config SAMPLE_CAN_BABBLING_TX_QUEUE_SIZE
            int "Maximum number of CAN frames to enqueue"
            default 3
            range 1 3
            help
            Maximum number of CAN frames to enqueue for transmission.
        
    endif
    config MICROROS_NODES
        string "available micro-ROS nodes"
        default "1"

    config MICROROS_PUBLISHERS
        string "available micro-ROS publishers"
        default "1"
    
    config MICROROS_SUBSCRIBERS
        string "available micro-ROS subscribers"
        default "1"

    config MICROROS_CLIENTS
        string "available micro-ROS service clients"
        default "1"

    config MICROROS_SERVERS
        string "available micro-ROS service servers"
        default "1"
        
    config MICROROS_RMW_HISTORIC
        string "available micro-ROS RMW historic memory"
        default "4"
    
    config MICROROS_XRCE_DDS_MTU
        string "micro-ROS transport MTU"
        default "512"
        
    config MICROROS_XRCE_DDS_HISTORIC
        string "micro-ROS middleware memory slots"
        default "4"  

endif

